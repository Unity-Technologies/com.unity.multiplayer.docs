---  
id: MLAPI.NetworkManager  
title: MLAPI.NetworkManager
---

<div class="markdown level0 summary">

The main component of the library

</div>

<div class="markdown level0 conceptual">

</div>

<div class="inheritance">

##### Inheritance

<div class="level0">

System.Dynamic.ExpandoObject

</div>

<div class="level1">

System.Dynamic.ExpandoObject

</div>

<div class="level2">

System.Dynamic.ExpandoObject

</div>

<div class="level3">

System.Dynamic.ExpandoObject

</div>

<div class="level4">

System.Dynamic.ExpandoObject

</div>

<div class="level5">

System.Dynamic.ExpandoObject

</div>

</div>

<div classs="implements">

##### Implements

<div>

INetworkUpdateSystem

</div>

</div>

<div class="inheritedMembers">

##### Inherited Members

<div>

MonoBehaviour.IsInvoking()

</div>

<div>

MonoBehaviour.CancelInvoke()

</div>

<div>

MonoBehaviour.Invoke(String, Single)

</div>

<div>

MonoBehaviour.InvokeRepeating(String, Single, Single)

</div>

<div>

MonoBehaviour.CancelInvoke(String)

</div>

<div>

MonoBehaviour.IsInvoking(String)

</div>

<div>

MonoBehaviour.StartCoroutine(String)

</div>

<div>

MonoBehaviour.StartCoroutine(String, Object)

</div>

<div>

MonoBehaviour.StartCoroutine(IEnumerator)

</div>

<div>

MonoBehaviour.StartCoroutine\_Auto(IEnumerator)

</div>

<div>

MonoBehaviour.StopCoroutine(IEnumerator)

</div>

<div>

MonoBehaviour.StopCoroutine(Coroutine)

</div>

<div>

MonoBehaviour.StopCoroutine(String)

</div>

<div>

MonoBehaviour.StopAllCoroutines()

</div>

<div>

MonoBehaviour.print(Object)

</div>

<div>

MonoBehaviour.useGUILayout

</div>

<div>

MonoBehaviour.runInEditMode

</div>

<div>

Behaviour.enabled

</div>

<div>

Behaviour.isActiveAndEnabled

</div>

<div>

Component.GetComponent(Type)

</div>

<div>

Component.GetComponent&lt;T&gt;()

</div>

<div>

Component.GetComponent(String)

</div>

<div>

Component.GetComponentInChildren(Type, Boolean)

</div>

<div>

Component.GetComponentInChildren(Type)

</div>

<div>

Component.GetComponentInChildren&lt;T&gt;(Boolean)

</div>

<div>

Component.GetComponentInChildren&lt;T&gt;()

</div>

<div>

Component.GetComponentsInChildren(Type, Boolean)

</div>

<div>

Component.GetComponentsInChildren(Type)

</div>

<div>

Component.GetComponentsInChildren&lt;T&gt;(Boolean)

</div>

<div>

Component.GetComponentsInChildren&lt;T&gt;(Boolean, List&lt;T&gt;)"

</div>

<div>

Component.GetComponentsInChildren&lt;T&gt;()

</div>

<div>

Component.GetComponentsInChildren&lt;T&gt;(List&lt;T&gt;)"

</div>

<div>

Component.GetComponentInParent(Type)

</div>

<div>

Component.GetComponentInParent&lt;T&gt;()

</div>

<div>

Component.GetComponentsInParent(Type, Boolean)

</div>

<div>

Component.GetComponentsInParent(Type)

</div>

<div>

Component.GetComponentsInParent&lt;T&gt;(Boolean)

</div>

<div>

Component.GetComponentsInParent&lt;T&gt;(Boolean, List&lt;T&gt;)"

</div>

<div>

Component.GetComponentsInParent&lt;T&gt;()

</div>

<div>

Component.GetComponents(Type)

</div>

<div>

Component.GetComponents(Type, List&lt;Component&gt;)

</div>

<div>

Component.GetComponents&lt;T&gt;(List&lt;T&gt;)"

</div>

<div>

Component.GetComponents&lt;T&gt;()

</div>

<div>

Component.CompareTag(String)

</div>

<div>

Component.SendMessageUpwards(String, Object, SendMessageOptions)

</div>

<div>

Component.SendMessageUpwards(String, Object)

</div>

<div>

Component.SendMessageUpwards(String)

</div>

<div>

Component.SendMessageUpwards(String, SendMessageOptions)

</div>

<div>

Component.SendMessage(String, Object)

</div>

<div>

Component.SendMessage(String)

</div>

<div>

Component.SendMessage(String, Object, SendMessageOptions)

</div>

<div>

Component.SendMessage(String, SendMessageOptions)

</div>

<div>

Component.BroadcastMessage(String, Object, SendMessageOptions)

</div>

<div>

Component.BroadcastMessage(String, Object)

</div>

<div>

Component.BroadcastMessage(String)

</div>

<div>

Component.BroadcastMessage(String, SendMessageOptions)

</div>

<div>

Component.transform

</div>

<div>

Component.gameObject

</div>

<div>

Component.tag

</div>

<div>

Component.rigidbody

</div>

<div>

Component.rigidbody2D

</div>

<div>

Component.camera

</div>

<div>

Component.light

</div>

<div>

Component.animation

</div>

<div>

Component.constantForce

</div>

<div>

Component.renderer

</div>

<div>

Component.audio

</div>

<div>

Component.guiText

</div>

<div>

Component.networkView

</div>

<div>

Component.guiElement

</div>

<div>

Component.guiTexture

</div>

<div>

Component.collider

</div>

<div>

Component.collider2D

</div>

<div>

Component.hingeJoint

</div>

<div>

Component.particleEmitter

</div>

<div>

Component.particleSystem

</div>

<div>

Object.GetInstanceID()

</div>

<div>

Object.GetHashCode()

</div>

<div>

Object.Equals(Object)

</div>

<div>

Object.Instantiate(Object, Vector3, Quaternion)

</div>

<div>

Object.Instantiate(Object, Vector3, Quaternion, Transform)

</div>

<div>

Object.Instantiate(Object)

</div>

<div>

Object.Instantiate(Object, Transform)

</div>

<div>

Object.Instantiate(Object, Transform, Boolean)

</div>

<div>

Object.Instantiate&lt;T&gt;(T)"

</div>

<div>

Object.Instantiate&lt;T&gt;(T, Vector3, Quaternion)"

</div>

<div>

Object.Instantiate&lt;T&gt;(T, Vector3, Quaternion, Transform)"

</div>

<div>

Object.Instantiate&lt;T&gt;(T, Transform)"

</div>

<div>

Object.Instantiate&lt;T&gt;(T, Transform, Boolean)"

</div>

<div>

Object.Destroy(Object, Single)

</div>

<div>

Object.Destroy(Object)

</div>

<div>

Object.DestroyImmediate(Object, Boolean)

</div>

<div>

Object.DestroyImmediate(Object)

</div>

<div>

Object.FindObjectsOfType(Type)

</div>

<div>

Object.DontDestroyOnLoad(Object)

</div>

<div>

Object.DestroyObject(Object, Single)

</div>

<div>

Object.DestroyObject(Object)

</div>

<div>

Object.FindSceneObjectsOfType(Type)

</div>

<div>

Object.FindObjectsOfTypeIncludingAssets(Type)

</div>

<div>

Object.FindObjectsOfType&lt;T&gt;()

</div>

<div>

Object.FindObjectOfType&lt;T&gt;()

</div>

<div>

Object.FindObjectsOfTypeAll(Type)

</div>

<div>

Object.FindObjectOfType(Type)

</div>

<div>

Object.ToString()

</div>

<div>

Object.name

</div>

<div>

Object.hideFlags

</div>

<div>

Object.Equals(Object, Object)

</div>

<div>

Object.GetType()

</div>

<div>

Object.MemberwiseClone()

</div>

<div>

Object.ReferenceEquals(Object, Object)

</div>

</div>

##### **Namespace**: System.Dynamic.ExpandoObject

##### **Assembly**: MLAPI.dll

##### Syntax

    [AddComponentMenu("MLAPI/NetworkManager", -100)]
    public class NetworkManager : MonoBehaviour, INetworkUpdateSystem

## Fields

### ConnectedClients

<div class="markdown level1 summary">

Gets a dictionary of connected clients and their clientId keys. This is
only populated on the server.

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public readonly Dictionary<ulong, NetworkClient> ConnectedClients

#### Field Value

| Type                                                                      | Description |
|---------------------------------------------------------------------------|-------------|
| System.Collections.Generic.Dictionary&lt;System.UInt64, NetworkClient&gt; |             |

### ConnectedClientsList

<div class="markdown level1 summary">

Gets a list of connected clients. This is only populated on the server.

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public readonly List<NetworkClient> ConnectedClientsList

#### Field Value

| Type                                                 | Description |
|------------------------------------------------------|-------------|
| System.Collections.Generic.List&lt;NetworkClient&gt; |             |

### DontDestroy

<div class="markdown level1 summary">

Gets or sets if the NetworkManager should be marked as DontDestroyOnLoad

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    [HideInInspector]
    public bool DontDestroy

#### Field Value

| Type           | Description |
|----------------|-------------|
| System.Boolean |             |

### LogLevel

<div class="markdown level1 summary">

The log level to use

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    [HideInInspector]
    public LogLevel LogLevel

#### Field Value

| Type     | Description |
|----------|-------------|
| LogLevel |             |

### NetworkConfig

<div class="markdown level1 summary">

The current NetworkConfig

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    [HideInInspector]
    public NetworkConfig NetworkConfig

#### Field Value

| Type          | Description |
|---------------|-------------|
| NetworkConfig |             |

### PendingClients

<div class="markdown level1 summary">

Gets a dictionary of the clients that have been accepted by the
transport but are still pending by the MLAPI. This is only populated on
the server.

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public readonly Dictionary<ulong, PendingClient> PendingClients

#### Field Value

| Type                                                                      | Description |
|---------------------------------------------------------------------------|-------------|
| System.Collections.Generic.Dictionary&lt;System.UInt64, PendingClient&gt; |             |

### RunInBackground

<div class="markdown level1 summary">

Gets or sets if the application should be set to run in background

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    [HideInInspector]
    public bool RunInBackground

#### Field Value

| Type           | Description |
|----------------|-------------|
| System.Boolean |             |

## Properties 

### ConnectedHostname

<div class="markdown level1 summary">

The current hostname we are connected to, used to validate certificate

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public string ConnectedHostname { get; }

#### Property Value

| Type          | Description |
|---------------|-------------|
| System.String |             |

### IsClient

<div class="markdown level1 summary">

Gets Whether or not a client is running

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public bool IsClient { get; }

#### Property Value

| Type           | Description |
|----------------|-------------|
| System.Boolean |             |

### IsConnectedClient

<div class="markdown level1 summary">

Gets if we are connected as a client

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public bool IsConnectedClient { get; }

#### Property Value

| Type           | Description |
|----------------|-------------|
| System.Boolean |             |

### IsHost

<div class="markdown level1 summary">

Gets if we are running as host

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public bool IsHost { get; }

#### Property Value

| Type           | Description |
|----------------|-------------|
| System.Boolean |             |

### IsListening

<div class="markdown level1 summary">

Gets Whether or not we are listening for connections

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public bool IsListening { get; }

#### Property Value

| Type           | Description |
|----------------|-------------|
| System.Boolean |             |

### IsServer

<div class="markdown level1 summary">

Gets Whether or not a server is running

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public bool IsServer { get; }

#### Property Value

| Type           | Description |
|----------------|-------------|
| System.Boolean |             |

### LocalClientId

<div class="markdown level1 summary">

The clientId the server calls the local client by, only valid for
clients

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public ulong LocalClientId { get; }

#### Property Value

| Type          | Description |
|---------------|-------------|
| System.UInt64 |             |

### NetworkTime

<div class="markdown level1 summary">

A synchronized time, represents the time in seconds since the server
application started. Is replicated across all clients

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public float NetworkTime { get; }

#### Property Value

| Type          | Description |
|---------------|-------------|
| System.Single |             |

### ServerClientId

<div class="markdown level1 summary">

Gets the networkId of the server

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public ulong ServerClientId { get; }

#### Property Value

| Type          | Description |
|---------------|-------------|
| System.UInt64 |             |

### Singleton

<div class="markdown level1 summary">

The singleton instance of the NetworkManager

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public static NetworkManager Singleton { get; }

#### Property Value

| Type           | Description |
|----------------|-------------|
| NetworkManager |             |

## Methods 

### DisconnectClient(UInt64)

<div class="markdown level1 summary">

Disconnects the remote client.

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public void DisconnectClient(ulong clientId)

#### Parameters

| Type          | Name     | Description                |
|---------------|----------|----------------------------|
| System.UInt64 | clientId | The ClientId to disconnect |

### NetworkUpdate(NetworkUpdateStage)

<div class="markdown level1 summary">

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public void NetworkUpdate(NetworkUpdateStage updateStage)

#### Parameters

| Type               | Name        | Description |
|--------------------|-------------|-------------|
| NetworkUpdateStage | updateStage |             |

### SetSingleton()

<div class="markdown level1 summary">

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public void SetSingleton()

### Shutdown()

<div class="markdown level1 summary">

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public void Shutdown()

### StartClient()

<div class="markdown level1 summary">

Starts a client

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public SocketTasks StartClient()

#### Returns

| Type        | Description |
|-------------|-------------|
| SocketTasks |             |

### StartHost(Nullable&lt;Vector3&gt;, Nullable&lt;Quaternion&gt;, Nullable&lt;Boolean&gt;, Nullable&lt;UInt64&gt;, Stream)

<div class="markdown level1 summary">

Starts a Host

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public SocketTasks StartHost(Vector3? position = default(Vector3? ), Quaternion? rotation = default(Quaternion? ), bool? createPlayerObject = default(bool? ), ulong? prefabHash = default(ulong? ), Stream payloadStream = null)

#### Parameters

| Type                                          | Name               | Description |
|-----------------------------------------------|--------------------|-------------|
| System.Nullable&lt;UnityEngine.Vector3&gt;    | position           |             |
| System.Nullable&lt;UnityEngine.Quaternion&gt; | rotation           |             |
| System.Nullable&lt;System.Boolean&gt;         | createPlayerObject |             |
| System.Nullable&lt;System.UInt64&gt;          | prefabHash         |             |
| System.IO.Stream                              | payloadStream      |             |

#### Returns

| Type        | Description |
|-------------|-------------|
| SocketTasks |             |

### StartServer()

<div class="markdown level1 summary">

Starts a server

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public SocketTasks StartServer()

#### Returns

| Type        | Description |
|-------------|-------------|
| SocketTasks |             |

### StopClient()

<div class="markdown level1 summary">

Stops the running client

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public void StopClient()

### StopHost()

<div class="markdown level1 summary">

Stops the running host

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public void StopHost()

### StopServer()

<div class="markdown level1 summary">

Stops the running server

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public void StopServer()

## Events

### ConnectionApprovalCallback

<div class="markdown level1 summary">

The callback to invoke during connection approval

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public event Action<byte[], ulong, NetworkManager.ConnectionApprovedDelegate> ConnectionApprovalCallback

#### Event Type

| Type                                                                                           | Description |
|------------------------------------------------------------------------------------------------|-------------|
| System.Action&lt;System.Byte\[\], System.UInt64, NetworkManager.ConnectionApprovedDelegate&gt; |             |

### OnClientConnectedCallback

<div class="markdown level1 summary">

The callback to invoke once a client connects. This callback is only ran
on the server and on the local client that connects.

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public event Action<ulong> OnClientConnectedCallback

#### Event Type

| Type                               | Description |
|------------------------------------|-------------|
| System.Action&lt;System.UInt64&gt; |             |

### OnClientDisconnectCallback

<div class="markdown level1 summary">

The callback to invoke when a client disconnects. This callback is invoked on a client when the server shuts down or disconnects the client. It is only run on the server and the local client that disconnects.

The callback is not invoked on the client when the client-side invokes the `NetworkManager.StopClient` method or when the client side application shuts down abruptly (for example, no graceful disconnection where server or client notified it was exiting).

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public event Action<ulong> OnClientDisconnectCallback

#### Event Type

| Type                               | Description |
|------------------------------------|-------------|
| System.Action&lt;System.UInt64&gt; |             |

### OnPerformanceDataEvent

<div class="markdown level1 summary">

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public static event NetworkManager.PerformanceDataEventHandler OnPerformanceDataEvent

#### Event Type

| Type                                       | Description |
|--------------------------------------------|-------------|
| NetworkManager.PerformanceDataEventHandler |             |

### OnServerStarted

<div class="markdown level1 summary">

The callback to invoke once the server is ready

</div>

<div class="markdown level1 conceptual">

</div>

#### Declaration

    public event Action OnServerStarted

#### Event Type

| Type          | Description |
|---------------|-------------|
| System.Action |             |

### Implements

<div>

INetworkUpdateSystem

</div>

### Extension Methods

<div>

NetworkUpdateLoop.RegisterAllNetworkUpdates(INetworkUpdateSystem)

</div>

<div>

NetworkUpdateLoop.RegisterNetworkUpdate(INetworkUpdateSystem,
NetworkUpdateStage)

</div>

<div>

NetworkUpdateLoop.UnregisterAllNetworkUpdates(INetworkUpdateSystem)

</div>

<div>

NetworkUpdateLoop.UnregisterNetworkUpdate(INetworkUpdateSystem,
NetworkUpdateStage)

</div>
